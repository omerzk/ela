input {
  file {
    path => "/Documents/ela/configuration_files/first_log"
    start_position => "beginning"
  }
}

filter {
  grok {
     match => { "message" => "(\[%{GREEDYDATA:UserAgent}\]\s+)?%{GREEDYDATA:RequesterIp}"}
  }  
}

output {
  stdout {
    codec => rubydebug
  }

  elasticsearch {
    hosts => ["localhost:9200"]
	index => "requests"
  }
}